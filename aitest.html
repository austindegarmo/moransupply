<!DOCTYPE html>
<html>
<head>
    <title>Google Maps Directions</title>
    <style>
        #map {
            height: 400px;
            width: 100%;
        }
    </style>
</head>
<body>
    <h1>Directions to 415 40th St, Oakland, CA</h1>
    <div id="map"></div>

    <script>
        // Function to initialize the map
        function initMap() {
            // Create a map object and specify the DOM element for display
            var map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: 37.8123035, lng: -122.2706075 }, // Centered on Oakland, CA
                zoom: 13
            });

            // Create a directions service object
            var directionsService = new google.maps.DirectionsService();

            // Create a directions renderer object
            var directionsDisplay = new google.maps.DirectionsRenderer();

            // Bind the directions renderer to the map
            directionsDisplay.setMap(map);

            // Get the user's current location
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    var pos = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };

                    // Set the origin for directions to the user's location
                    var origin = new google.maps.LatLng(pos.lat, pos.lng);

                    // Set the destination for directions
                    var destination = '415 40th St, Oakland, CA';

                    // Define the request object for directions
                    var request = {
                        origin: origin,
                        destination: destination,
                        travelMode: google.maps.TravelMode.DRIVING
                    };

                    // Call the directions service to get directions
                    directionsService.route(request, function (response, status) {
                        if (status === 'OK') {
                            // Display the directions on the map
                            directionsDisplay.setDirections(response);
                        } else {
                            // Handle error cases
                            window.alert('Directions request failed due to ' + status);
                        }
                    });
                }, function () {
                    // Handle geolocation errors
                    window.alert('Error: The Geolocation service failed.');
                });
            } else {
                // Browser doesn't support geolocation
                window.alert('Error: Your browser doesn\'t support geolocation.');
            }
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCHPqeODFGDOJuwUEDOcvaZRLv-Ix070KQ&callback=initMap" async defer></script>
</body>
</html>
